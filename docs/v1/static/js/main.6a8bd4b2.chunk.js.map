{"version":3,"sources":["utils.ts","components/EnumTable.tsx","components/PkgTable.tsx","components/EnumSelector.tsx","components/ChangeTable.tsx","components/ReleaseTable.tsx","components/VersionComponent.tsx","components/VersionEditor.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["accumulateChangeList","changeListAccumulated","customerIndex","versionList","indexPrev","versionNext","find","version","index","changeList","releaseList","release","customerIndexList","includes","unshift","filter","change","length","findEmptyIndex","indexList","sort","a","b","reduce","indent","input","replace","publishPerCustomer","versionIndex","lineupList","pkgList","customer","candidateLineupIndexList","map","lineup","releaseHistoryPerLineupList","forEach","lineupIndex","push","releaseHistory","publishPerLineup","releaseHistoryPerLineup","lineupFound","lineupName","name","join","changeListPerPkgList","releaseFound","pkgIndex","pkg","pkgFound","pkgName","pkgLineupIndex","changeLineupIndex","undefined","changeListPerPkg","changes","description","beforeChange","afterChange","listToChanges","trim","EnumTable","title","enumList","onChange","usedIndexList","useState","editIndex","setEditIndex","setName","nameNew","setNameNew","addEnumItem","enumItem","enumListNew","localeCompare","onSubmitRename","indexFound","findIndex","slice","Table","celled","compact","selectable","Header","Row","HeaderCell","Body","active","Cell","Form","onSubmit","Field","disabled","value","e","target","Button","icon","size","onClick","singleLine","onClickEdit","removeEnumItem","PkgTable","usedPkgIndexList","setLineupIndex","lineupIndexNew","setLineupIndexNew","pkgListNew","onSubmitEditPkg","removePkg","EnumSelector","selectedIndexList","selected","selectedIndex","color","Label","as","selectedIndexListNew","toggle","className","Icon","ChangeTable","customerList","setDescription","setBeforeChange","setAfterChange","setCustomerIndexList","descriptionNew","setDescriptionNew","beforeChangeNew","setBeforeChangeNew","afterChangeNew","setAfterChangeNew","customerIndexListNew","setCustomerIndexListNew","onSubmitEditChange","changeListNew","rowSpan","colSpan","TextArea","Fragment","changeFound","removeChange","ReleaseTable","setPkgIndex","pkgIndexNew","setPkgIndexNew","onSubmitEditRelease","releaseListNew","ribbon","removeRelease","moveOlder","moveNewer","VersionComponent","versionPrevFound","Divider","horizontal","Subheader","versionRest","versionNew","VersionEditor","setIndexPrev","indexPrevNew","setIndexPrevNew","openModal","setOpenModal","setReleaseHistory","setIndex","onSubmitEditVersion","versionListNew","onClickPublish","versionFound","v1","index1","indexPrev1","v2","index2","indexPrev2","isVersionListCircular","releaseHistoryPerCustomerIndexListList","i","cil1","rh1","j","cil2","splice","relaseHistoryPerCustomerIndexList","customerNameJoined","publish","namePrev","versionReferringFound","removeVersion","Modal","open","onClose","Content","rows","Actions","navigator","clipboard","writeText","UNTITLED","PANE_VERSION","PANE_LINEUP","PANE_PACKAGE","PANE_CUSTOMER","App","file","refLoad","createRef","refSave","featureName","setFeatureName","setVersionList","setLineupList","setPkgList","setCustomerList","pane","setPane","reader","FileReader","onload","result","ArrayBuffer","indexLast","lastIndexOf","substring","parsed","JSON","parse","versionName","versionIndexPrev","changeIndex","targetCustomerList","targetCustomer","releaseIndex","customerName","load","usedLineupIndexList","indexPrevList","usedCustomerIndexList","indexListPrev","Menu","pointing","Item","current","click","blob","Blob","stringify","type","download","href","window","URL","createObjectURL","onClickSave","position","accept","hidden","ref","files","readAsText","Container","Segment","textAlign","rel","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6a8bd4b2.chunk.js","sourcesContent":["import { Change, Enum, OldCustomer, OldPkg, OldVersion, Pkg, Release, Version } from \"./types\";\n\ntype ReleaseHistoryPerCustomerIndexList = {\n  customerIndexList: number[];\n  releaseHistory: string;\n}\n\ntype ReleaseHistoryPerLineupIndex = {\n  lineupIndex: number;\n  releaseHistory: string;\n}\n\ntype ReleaseHistoryPerPkg = {\n  pkgName: string;\n  changeList: Change[];\n};\n\nfunction accumulateChangeList(\n  changeListAccumulated: Change[], customerIndex: number,\n  versionList: Version[], indexPrev: number,\n) {\n  let versionNext = versionList.find((version) => version.index === indexPrev);\n  while (versionNext) {\n    if (!versionNext) {\n      return versionNext;\n    }\n    const { indexPrev, changeList, releaseList } = versionNext;\n    const releaseFound = releaseList.find((release) => release.customerIndexList.includes(customerIndex));\n    if (releaseFound) {\n      break;\n    }\n    changeListAccumulated.unshift(\n      ...changeList.filter((change) => {\n        const { customerIndexList } = change;\n        return !customerIndexList.length || customerIndexList.includes(customerIndex);\n      })\n    );\n    versionNext = versionList.find((version) => version.index === indexPrev);\n  }\n  return versionNext;\n}\n\nexport function findEmptyIndex(indexList: number[]) {\n  return indexList\n    .sort((a, b) => a - b)\n    .reduce((indexPrev, index) => {\n      if (index === indexPrev) {\n        return indexPrev + 1;\n      }\n      return indexPrev;\n    }, 0);\n}\n\nexport function getEnumNameList(enumList: Enum[], indexList: number[]) {\n  return enumList\n    .filter((enumItem) => indexList.includes(enumItem.index))\n    .map((enumItem) => enumItem.name);\n}\n\nfunction indent(input: string) {\n  return input.replace(/^/gm, '    ');\n}\n\nfunction isVersionListCircular(versionList: Version[], index: number) {\n    const versionFound = versionList.find((version) => version.index === index);\n    if (!versionFound) {\n      return false;\n    }\n    let v1: Version | undefined = versionFound;\n    let { index: index1, indexPrev: indexPrev1 } = v1;\n    let v2: Version | undefined = versionFound;\n    let { index: index2, indexPrev: indexPrev2 } = v2;\n    while (v1 || v2) {\n      // eslint-disable-next-line no-loop-func\n      v1 = versionList.find((version) => version.index === indexPrev1);\n      if (!v1) {\n        return false;\n      }\n      ({ index: index1, indexPrev: indexPrev1 } = v1);\n      // eslint-disable-next-line no-loop-func\n      v2 = versionList.find((version) => version.index === indexPrev2);\n      if (!v2) {\n        return false;\n      }\n      ({ index: index2, indexPrev: indexPrev2 } = v2);\n      // eslint-disable-next-line no-loop-func\n      v2 = versionList.find((version) => version.index === indexPrev2);\n      if (!v2) {\n        return false;\n      }\n      ({ index: index2, indexPrev: indexPrev2 } = v2);\n      if (index1 === index2) {\n        return true;\n      }\n    }\n}\n\nexport function load(input: string) {\n  const parsed = JSON.parse(input);\n  const { versionList, lineupList, pkgList, customerList } = parsed;\n  // Check if it comes from release-history-manager\n  if (versionList[0] && versionList[0].versionIndex !== undefined) {\n    // Migrate\n    const versionListNew: Version[] = (versionList as OldVersion[]).map((version) => {\n      const { versionIndex: index, versionName: name, versionIndexPrev: indexPrev, changeList, releaseList } = version;\n      const changeListNew: Change[] = changeList.map((change) => {\n        const { changeIndex: index, description, beforeChange, afterChange, targetCustomerList } = change;\n        const customerIndexList = targetCustomerList.map((targetCustomer) => targetCustomer.customerIndex);\n        return { index, description, beforeChange, afterChange, customerIndexList, lineupIndex: -1 };\n      });\n      const releaseListNew: Release[] = releaseList.map((release) => {\n        const { releaseIndex: index, pkgIndex, targetCustomerList } = release;\n        const customerIndexList = targetCustomerList.map((targetCustomer) => targetCustomer.customerIndex);\n        return { index, pkgIndex, customerIndexList };\n      })\n      return {\n        index,\n        name,\n        indexPrev,\n        changeList: changeListNew,\n        releaseList: releaseListNew,\n      }\n    });\n    const pkgListNew: Pkg[] = (pkgList as OldPkg[]).map((pkg) => {\n      const { pkgIndex: index, pkgName: name } = pkg;\n      return { index, name, lineupIndex: -1 };\n    });\n    const customerListNew: Enum[] = (customerList as OldCustomer[]).map((customer) => {\n      const { customerIndex: index, customerName: name } = customer;\n      return { index, name };\n    });\n    return { versionList: versionListNew, lineupList: [], pkgList: pkgListNew, customerList: customerListNew };\n  } else {\n    // TODO: Check validity\n  }\n  return { versionList, lineupList, pkgList, customerList };\n}\n\nexport function publish(versionList: Version[], versionIndex: number, lineupList: Enum[], pkgList: Pkg[], customerList: Enum[]) {\n  if (isVersionListCircular(versionList, versionIndex)) {\n    return;\n  }\n  const releaseHistoryPerCustomerIndexListList: ReleaseHistoryPerCustomerIndexList[] = [];\n  // Generate\n  customerList.forEach((customer) => {\n    releaseHistoryPerCustomerIndexListList.push({\n      customerIndexList: [customer.index],\n      releaseHistory: publishPerCustomer(versionList, versionIndex, lineupList, pkgList, customer),\n    });\n  });\n  // Merge\n  for (let i = releaseHistoryPerCustomerIndexListList.length - 1; i >= 0; i -= 1) {\n    const { customerIndexList: cil1, releaseHistory: rh1 } = releaseHistoryPerCustomerIndexListList[i];\n    for (let j = i - 1; j >= 0; j -= 1) {\n      const { customerIndexList: cil2, releaseHistory: rh2 } = releaseHistoryPerCustomerIndexListList[j];\n      if (rh1 === rh2) {\n        cil2.push(...cil1);\n        releaseHistoryPerCustomerIndexListList.splice(i, 1);\n        break;\n      }\n    }\n  }\n  // Export\n  const releaseHistory = releaseHistoryPerCustomerIndexListList\n    .filter((relaseHistoryPerCustomerIndexList) => relaseHistoryPerCustomerIndexList.releaseHistory)\n    .map((relaseHistoryPerCustomerIndexList) => {\n      const { customerIndexList, releaseHistory } = relaseHistoryPerCustomerIndexList;\n      const customerNameJoined = getEnumNameList(customerList, customerIndexList).join(', ');\n      return `<${customerNameJoined}>\n${indent(releaseHistory)}\n</${customerNameJoined}>`;\n    }).join('\\n');\n  return releaseHistory;\n}\n\nfunction publishPerCustomer(versionList: Version[], versionIndex: number, lineupList: Enum[], pkgList: Pkg[], customer: Enum) {\n  const candidateLineupIndexList = [-1, ...lineupList.map((lineup) => lineup.index)];\n  const releaseHistoryPerLineupList: ReleaseHistoryPerLineupIndex[] = [];\n  candidateLineupIndexList.forEach((lineupIndex) => {\n    releaseHistoryPerLineupList.push({\n      lineupIndex,\n      releaseHistory: publishPerLineup(versionList, versionIndex, lineupIndex, pkgList, customer),\n    });\n  })\n  const releaseHistory = releaseHistoryPerLineupList\n    .filter((releaseHistoryPerLineup) => releaseHistoryPerLineup.releaseHistory)\n    .map((releaseHistoryPerLineup) => {\n      const { lineupIndex, releaseHistory } = releaseHistoryPerLineup;\n      const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n      if (!lineupFound) {\n        return indent(releaseHistory);\n      } else {\n        const lineupName = lineupFound.name;\n        return `<${lineupName}>\n${indent(releaseHistory)}\n</${lineupName}>`;\n      }\n    }).join('\\n');\n  return releaseHistory;\n}\n\nfunction publishPerLineup(versionList: Version[], versionIndex: number, lineupIndex: number, pkgList: Pkg[], customer: Enum) {\n  let versionNext = versionList.find((version) => version.index === versionIndex);\n  const { index: customerIndex } = customer;\n  const changeListPerPkgList: ReleaseHistoryPerPkg[] = [];\n  while(versionNext) {\n    const { indexPrev, changeList, releaseList } = versionNext;\n    // Check the current version is released\n    const releaseFound = releaseList.find((release) => {\n      const customerIncluded = release.customerIndexList.includes(customerIndex);\n      if (!customerIncluded) {\n        return false;\n      }\n      const { pkgIndex } = release;\n      const pkgFound = pkgList.find((pkg) => pkg.lineupIndex === lineupIndex && pkg.index === pkgIndex);\n      return !!pkgFound;\n    });\n    // If the current version is not released, it is not for the given customer\n    if (!releaseFound) {\n      versionNext = undefined;\n    } else {\n      const { pkgIndex } = releaseFound;\n      const pkgFound = pkgList.find((pkg) => pkg.index === pkgIndex);\n      if (!pkgFound) {\n        // This is not going to happen\n        break;\n      } else {\n        const { name: pkgName, lineupIndex: pkgLineupIndex } = pkgFound;\n        const changeListAccumulated = [\n          ...changeList.filter((change) => {\n            const { customerIndexList, lineupIndex: changeLineupIndex } = change;\n            return (!customerIndexList.length || customerIndexList.includes(customerIndex))\n                   && pkgLineupIndex === changeLineupIndex;\n          }),\n        ];\n        // Accumulate unreleased versions and get the second latest released version\n        versionNext = accumulateChangeList(changeListAccumulated, customerIndex, versionList, indexPrev);\n        changeListPerPkgList.unshift({ pkgName, changeList: changeListAccumulated });\n      }\n    }\n  }\n  const releaseHistory = changeListPerPkgList.map((changeListPerPkg, index) => {\n    const { pkgName, changeList } = changeListPerPkg;\n    const changes = index === 0 ? '- Initial release' : changeList.map((change) => {\n      const { description, beforeChange, afterChange } = change;\n      const listToChanges = [\n        '[Description]',\n        indent(description),\n      ];\n      if (beforeChange || afterChange) {\n        listToChanges.push(('[Enhancement]'));\n      }\n      if (beforeChange) {\n        listToChanges.push(indent('[Before change]'));\n        listToChanges.push(indent(indent(beforeChange)));\n      }\n      if (afterChange) {\n        listToChanges.push(indent('[After change]'));\n        listToChanges.push(indent(indent(afterChange)));\n      }\n      return listToChanges.join('\\n');\n    }).join('\\n');\n    if (!changes) {\n      return '';\n    }\n    return `${pkgName}\n${indent(changes)}`\n  }).filter((changes) => !!changes).join('\\n').trim();\n  return releaseHistory;\n}\n","import { useState } from \"react\";\nimport { Button, Form, Table } from \"semantic-ui-react\";\nimport { Enum } from \"../types\";\nimport { findEmptyIndex } from \"../utils\";\n\ntype Props = {\n  title: string;\n  enumList: Enum[];\n  onChange: (enumList: Enum[]) => void;\n  usedIndexList?: number[];\n};\n\nexport default function EnumTable({ title, enumList, onChange, usedIndexList }: Props) {\n  const [editIndex, setEditIndex] = useState(-1);\n  const [name, setName] = useState('');\n  const [nameNew, setNameNew] = useState('');\n\n  function addEnumItem() {\n    if (!name) {\n      return;\n    }\n    const enumItemFound = enumList.find((enumItem) => enumItem.name === name);\n    if (enumItemFound) {\n      return;\n    }\n    const index = findEmptyIndex(enumList.map((enumItem) => enumItem.index));\n    const enumListNew = [\n      ...enumList,\n      { index, name },\n    ].sort((a, b) => a.name.localeCompare(b.name));\n    onChange(enumListNew);\n    setName('');\n  }\n\n  function onClickEdit(index: number) {\n    const enumItem = enumList.find((enumItem) => enumItem.index === index);\n    if (!enumItem) {\n      return;\n    }\n    setNameNew(enumItem.name);\n    setEditIndex(index);\n  }\n\n  function onSubmitRename(index: number) {\n    if (!nameNew) {\n      return;\n    }\n    const enumItemFound = enumList.find((enumItem) => enumItem.index !== index && enumItem.name === nameNew);\n    if (enumItemFound) {\n      return;\n    }\n    const indexFound = enumList.findIndex((enumItem) => enumItem.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const enumListNew = [\n      ...enumList.slice(0, indexFound),\n      { index, name: nameNew },\n      ...enumList.slice(indexFound + 1),\n    ];\n    onChange(enumListNew);\n    setEditIndex(-1);\n  }\n\n  function removeEnumItem(index: number) {\n    if (usedIndexList && usedIndexList.includes(index)) {\n      return;\n    }\n    const indexFound = enumList.findIndex((enumItem) => enumItem.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const enumListNew = [\n      ...enumList.slice(0, indexFound),\n      ...enumList.slice(indexFound + 1),\n    ];\n    onChange(enumListNew);\n  }\n\n  return (\n    <Table celled compact selectable>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>{title}</Table.HeaderCell>\n          <Table.HeaderCell>Actions</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        <Table.Row active>\n          <Table.Cell>\n            <Form onSubmit={addEnumItem}>\n              <Form.Field disabled={editIndex !== -1}>\n                <input value={name} onChange={(e) => setName(e.target.value)} />\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Button\n              icon='plus' size='tiny'\n              onClick={addEnumItem}\n              disabled={editIndex !== -1}\n            />\n          </Table.Cell>\n        </Table.Row>\n        {\n          enumList.map((enumItem) => {\n            const { index, name } = enumItem;\n            return index === editIndex ? (\n              <Table.Row key={index}>\n                <Table.Cell>\n                  <Form onSubmit={() => onSubmitRename(index)}>\n                    <Form.Field>\n                      <input value={nameNew} onChange={(e) => setNameNew(e.target.value)} />\n                    </Form.Field>\n                  </Form>\n                </Table.Cell>\n                <Table.Cell singleLine>\n                  <Button icon='check' size='tiny' onClick={() => onSubmitRename(index)} />\n                  <Button icon='cancel' size='tiny' onClick={() => setEditIndex(-1)} />\n                </Table.Cell>\n              </Table.Row>\n            ) : (\n              <Table.Row key={index}>\n                <Table.Cell>{name}</Table.Cell>\n                <Table.Cell singleLine>\n                  <Button icon='edit' size='tiny' onClick={() => onClickEdit(index)} />\n                  <Button icon='trash' size='tiny' onClick={() => removeEnumItem(index)}\n                    disabled={usedIndexList && usedIndexList.includes(index)}\n                  />\n                </Table.Cell>\n              </Table.Row>\n            )\n          })\n        }\n      </Table.Body>\n    </Table>\n  );\n}\n","import { useState } from \"react\";\nimport { Button, Form, Table } from \"semantic-ui-react\";\nimport { Enum, Pkg } from \"../types\";\nimport { findEmptyIndex } from \"../utils\";\n\ntype Props = {\n  pkgList: Pkg[];\n  lineupList: Enum[];\n  onChange: (pkgList: Pkg[]) => void;\n  usedPkgIndexList?: number[];\n};\n\nexport default function PkgTable({ pkgList, lineupList, onChange, usedPkgIndexList }: Props) {\n  const [editIndex, setEditIndex] = useState(-1);\n  const [name, setName] = useState('');\n  const [lineupIndex, setLineupIndex] = useState(-1);\n  const [nameNew, setNameNew] = useState('');\n  const [lineupIndexNew, setLineupIndexNew] = useState(-1);\n\n  function addPkg() {\n    if (!name) {\n      return;\n    }\n    const pkgFound = pkgList.find((pkg) => pkg.name === name);\n    if (pkgFound) {\n      return;\n    }\n    const index = findEmptyIndex(pkgList.map((pkg) => pkg.index));\n    const pkgListNew = [\n      ...pkgList,\n      { index, name, lineupIndex },\n    ].sort((a, b) => a.name.localeCompare(b.name));\n    onChange(pkgListNew);\n    setName('');\n  }\n\n  function onClickEdit(index: number) {\n    const pkgFound = pkgList.find((pkg) => pkg.index === index);\n    if (!pkgFound) {\n      return;\n    }\n    setNameNew(pkgFound.name);\n    setLineupIndexNew(pkgFound.lineupIndex);\n    setEditIndex(index);\n  }\n\n  function onSubmitEditPkg(index: number) {\n    if (!nameNew) {\n      return;\n    }\n    const pkgFound = pkgList.find((pkg) => pkg.index !== index && pkg.name === nameNew);\n    if (pkgFound) {\n      return;\n    }\n    const indexFound = pkgList.findIndex((pkg) => pkg.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const pkgListNew = [\n      ...pkgList.slice(0, indexFound),\n      { index, name: nameNew, lineupIndex: lineupIndexNew },\n      ...pkgList.slice(indexFound + 1),\n    ];\n    onChange(pkgListNew);\n    setEditIndex(-1);\n  }\n\n  function removePkg(index: number) {\n    if (usedPkgIndexList && usedPkgIndexList.includes(index)) {\n      return;\n    }\n    const indexFound = pkgList.findIndex((pkg) => pkg.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const enumListNew = [\n      ...pkgList.slice(0, indexFound),\n      ...pkgList.slice(indexFound + 1),\n    ];\n    onChange(enumListNew);\n  }\n\n  return (\n    <Table celled compact selectable>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>Package</Table.HeaderCell>\n          <Table.HeaderCell>Lineup</Table.HeaderCell>\n          <Table.HeaderCell>Actions</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        <Table.Row active>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <input value={name} onChange={(e) => setName(e.target.value)} />\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <select value={lineupIndex} onChange={(e) => setLineupIndex(+e.target.value)}>\n                  <option value={-1}>(None)</option>\n                  {\n                    lineupList.map((lineup) => {\n                      const { index, name} = lineup;\n                      return (\n                        <option key={index} value={index}>{name}</option>\n                      );\n                    })\n                  }\n                </select>\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Button\n              icon='plus' size='tiny'\n              onClick={addPkg}\n              disabled={editIndex !== -1}\n            />\n          </Table.Cell>\n        </Table.Row>\n        {\n          pkgList.map((pkg) => {\n            const { index, name, lineupIndex } = pkg;\n            const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n            const lineup = lineupFound ? lineupFound.name : '(None)';\n            return index === editIndex ? (\n              <Table.Row key={index}>\n                <Table.Cell>\n                  <Form>\n                    <Form.Field>\n                      <input value={nameNew} onChange={(e) => setNameNew(e.target.value)} />\n                    </Form.Field>\n                  </Form>\n                </Table.Cell>\n                <Table.Cell>\n                  <Form>\n                    <Form.Field>\n                      <select value={lineupIndexNew} onChange={(e) => setLineupIndexNew(+e.target.value)}>\n                        <option value={-1}>(None)</option>\n                        {\n                          lineupList.map((lineup) => {\n                            const { index, name } = lineup;\n                            return (\n                              <option key={index} value={index}>{name}</option>\n                            )\n                          })\n                        }\n                      </select>\n                    </Form.Field>\n                  </Form>\n                </Table.Cell>\n                <Table.Cell singleLine>\n                  <Button icon='check' size='tiny' onClick={() => onSubmitEditPkg(index)} />\n                  <Button icon='cancel' size='tiny' onClick={() => setEditIndex(-1)} />\n                </Table.Cell>\n              </Table.Row>\n            ) : (\n              <Table.Row key={index}>\n                <Table.Cell>{name}</Table.Cell>\n                <Table.Cell>{lineup}</Table.Cell>\n                <Table.Cell singleLine>\n                  <Button icon='edit' size='tiny' onClick={() => onClickEdit(index)} />\n                  <Button icon='trash' size='tiny' onClick={() => removePkg(index)}\n                    disabled={usedPkgIndexList && usedPkgIndexList.includes(index)}\n                  />\n                </Table.Cell>\n              </Table.Row>\n            )\n          })\n        }\n      </Table.Body>\n    </Table>\n  );\n}\n","import { Icon, Label } from \"semantic-ui-react\";\nimport { Enum } from \"../types\";\n\ntype Props = {\n  enumList: Enum[];\n  selectedIndexList: number[];\n  onChange: (selectedIndexList: number[]) => void;\n  disabled?: boolean;\n};\n\nexport default function EnumSelector({ enumList, selectedIndexList, onChange, disabled }: Props) {\n  function toggle(index: number) {\n    if (disabled) {\n      return;\n    }\n    const indexFound = selectedIndexList.findIndex((selectedIndex) => selectedIndex === index);\n    const selectedIndexListNew = indexFound === -1 ? [\n      ...selectedIndexList,\n      index,\n    ] : [\n      ...selectedIndexList.slice(0, indexFound),\n      ...selectedIndexList.slice(indexFound + 1),\n    ];\n    onChange(selectedIndexListNew);\n  }\n\n  return (\n    <>\n      {\n        enumList.map((enumItem) => {\n          const { index, name } = enumItem;\n          const selected = selectedIndexList.find((selectedIndex) => selectedIndex=== index) !== undefined;\n          const color = selected ? 'blue' : undefined;\n          const icon = selected ? 'plus' : 'minus';\n          return (\n            <Label\n              key={index} as='a'\n              onClick={() => toggle(index)}\n              className='customer-label' color={color}\n            >\n              <Icon name={icon} />\n              {name}\n            </Label>\n          )\n        })\n      }\n    </>\n  );\n}\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { Button, Form, Table, TextArea } from \"semantic-ui-react\";\nimport { Change, Enum } from \"../types\";\nimport { findEmptyIndex } from \"../utils\";\nimport EnumSelector from \"./EnumSelector\";\n\nconst COLSPAN = 4;\nconst ROWSPAN = 2;\n\ntype Props = {\n  changeList: Change[];\n  lineupList: Enum[];\n  customerList: Enum[];\n  onChange: (changeList: Change[]) => void;\n};\n\nexport default function ChangeTable({\n  changeList, lineupList, customerList,\n  onChange,\n}: Props) {\n  const [description, setDescription] = useState('');\n  const [beforeChange, setBeforeChange] = useState('');\n  const [afterChange, setAfterChange] = useState('');\n  const [customerIndexList, setCustomerIndexList] = useState<number[]>([]);\n  const [lineupIndex, setLineupIndex] = useState(-1);\n  const [editIndex, setEditIndex] = useState(-1);\n  const [descriptionNew, setDescriptionNew] = useState('');\n  const [beforeChangeNew, setBeforeChangeNew] = useState('');\n  const [afterChangeNew, setAfterChangeNew] = useState('');\n  const [customerIndexListNew, setCustomerIndexListNew] = useState<number[]>([]);\n  const [lineupIndexNew, setLineupIndexNew] = useState(-1);\n\n  function addChange() {\n    if (!description) {\n      return;\n    }\n    const index = findEmptyIndex(changeList.map((change) => change.index));\n    const changeListNew = [\n      ...changeList,\n      { index, description, beforeChange, afterChange, customerIndexList, lineupIndex },\n    ];\n    onChange(changeListNew);\n    setDescription('');\n    setBeforeChange('');\n    setAfterChange('');\n    setCustomerIndexList([]);\n    setLineupIndex(-1);\n  }\n\n  function onClickEdit(index: number) {\n    const changeFound = changeList.find((change) => change.index === index);\n    if (!changeFound) {\n      return;\n    }\n    const { description, beforeChange, afterChange, lineupIndex, customerIndexList } = changeFound;\n    setDescriptionNew(description);\n    setBeforeChangeNew(beforeChange);\n    setAfterChangeNew(afterChange);\n    setLineupIndexNew(lineupIndex);\n    setCustomerIndexListNew(customerIndexList);\n    setEditIndex(index);\n  }\n\n  function onSubmitEditChange() {\n    const indexFound = changeList.findIndex((change) => change.index === editIndex);\n    if (indexFound === -1) {\n      return;\n    }\n    const changeListNew = [\n      ...changeList.slice(0, indexFound),\n      {\n        index: editIndex,\n        description: descriptionNew,\n        beforeChange: beforeChangeNew,\n        afterChange: afterChangeNew,\n        customerIndexList: customerIndexListNew,\n        lineupIndex: lineupIndexNew,\n      },\n      ...changeList.slice(indexFound + 1),\n    ];\n    onChange(changeListNew);\n    setEditIndex(-1);\n  }\n\n  function removeChange(index: number) {\n    const indexFound = changeList.findIndex((change) => change.index === index);\n    const changeListNew = [\n      ...changeList.slice(0, indexFound),\n      ...changeList.slice(indexFound + 1),\n    ];\n    onChange(changeListNew);\n  }\n\n  return (\n    <Table celled compact selectable>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>Description</Table.HeaderCell>\n          <Table.HeaderCell>Before change</Table.HeaderCell>\n          <Table.HeaderCell>After change</Table.HeaderCell>\n          <Table.HeaderCell>Lineup</Table.HeaderCell>\n          <Table.HeaderCell rowSpan={ROWSPAN}>Actions</Table.HeaderCell>\n        </Table.Row>\n        <Table.Row>\n          <Table.HeaderCell colSpan={COLSPAN}>Customers</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        <Table.Row active>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <TextArea value={description} onChange={(e) => setDescription(e.target.value)}\n                  className='no-resize-textarea'\n                />\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <TextArea value={beforeChange} onChange={(e) => setBeforeChange(e.target.value)}\n                  className='no-resize-textarea'\n                />\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <TextArea value={afterChange} onChange={(e) => setAfterChange(e.target.value)}\n                  className='no-resize-textarea'\n                />\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <select value={lineupIndex} onChange={(e) => setLineupIndex(+e.target.value)}>\n                  <option value={-1}>(None)</option>\n                  {\n                    lineupList.map((lineup) => {\n                      const { index, name } = lineup;\n                      return (\n                        <option key={index} value={index}>{name}</option>\n                      )\n                    })\n                  }\n                </select>\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell rowSpan={ROWSPAN}>\n            <Button icon='plus' size='tiny' onClick={addChange} disabled={editIndex !== -1} />\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row active>\n          <Table.Cell colSpan={COLSPAN}>\n            <EnumSelector enumList={customerList} selectedIndexList={customerIndexList}\n              onChange={setCustomerIndexList}\n              disabled={editIndex !== -1}\n            />\n          </Table.Cell>\n        </Table.Row>\n        {\n          changeList.map((change) => {\n            const { index, description, beforeChange, afterChange, customerIndexList, lineupIndex } = change;\n            const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n            const lineup = lineupFound ? lineupFound.name : '(None)';\n            return index === editIndex ? (\n              <React.Fragment key={index}>\n                <Table.Row>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={descriptionNew} onChange={(e) => setDescriptionNew(e.target.value)}\n                          className='no-resize-textarea'\n                        />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={beforeChangeNew} onChange={(e) => setBeforeChangeNew(e.target.value)}\n                          className='no-resize-textarea'\n                        />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={afterChangeNew} onChange={(e) => setAfterChangeNew(e.target.value)}\n                          className='no-resize-textarea'\n                        />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <select value={lineupIndexNew} onChange={(e) => setLineupIndexNew(+e.target.value)}>\n                          <option value={-1}>(None)</option>\n                          {\n                            lineupList.map((lineup) => {\n                              const { index, name } = lineup;\n                              return (\n                                <option key={index} value={index}>{name}</option>\n                              )\n                            })\n                          }\n                        </select>\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell rowSpan={ROWSPAN} singleLine>\n                    <Button icon='check' size='tiny' onClick={onSubmitEditChange} />\n                    <Button icon='cancel' size='tiny' onClick={() => setEditIndex(-1)} />\n                  </Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell colSpan={COLSPAN}>\n                    <EnumSelector enumList={customerList} selectedIndexList={customerIndexListNew}\n                      onChange={setCustomerIndexListNew}\n                    />\n                  </Table.Cell>\n                </Table.Row>\n              </React.Fragment>\n            ) : (\n              <React.Fragment key={index}>\n                <Table.Row>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={description} className='no-border-textarea no-resize-textarea' />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={beforeChange} className='no-border-textarea no-resize-textarea' />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={afterChange} className='no-border-textarea no-resize-textarea' />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>{lineup}</Table.Cell>\n                  <Table.Cell rowSpan={ROWSPAN} singleLine>\n                    <Button icon='edit' size='tiny' onClick={() => onClickEdit(index)} />\n                    <Button icon='trash' size='tiny' onClick={() => removeChange(index)} />\n                  </Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell colSpan={COLSPAN}>\n                    {\n                      customerList\n                        .filter((customer) => customerIndexList.find((customerIndex) => customer.index === customerIndex) !== undefined)\n                        .map((customer) => customer.name)\n                        .join(', ')\n                    }\n                  </Table.Cell>\n                </Table.Row>\n              </React.Fragment>\n            )\n          })\n        }\n      </Table.Body>\n      {\n        changeList.map((change) => <></>)\n      }\n    </Table>\n  )\n}\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { Button, Form, Icon, Label, Table } from \"semantic-ui-react\";\nimport { Enum, Pkg, Release } from \"../types\";\nimport { findEmptyIndex } from \"../utils\";\nimport EnumSelector from \"./EnumSelector\";\n\ntype Props ={ \n  releaseList: Release[];\n  lineupList: Enum[];\n  pkgList: Pkg[];\n  customerList: Enum[];\n  onChange: (releaseList: Release[]) => void;\n}\n\nexport default function ReleaseTable({\n  releaseList, lineupList, pkgList, customerList,\n  onChange,\n}: Props) {\n  const [pkgIndex, setPkgIndex] = useState(-1);\n  const [customerIndexList, setCustomerIndexList] = useState<number[]>([]);\n  const [editIndex, setEditIndex] = useState(-1);\n  const [pkgIndexNew, setPkgIndexNew] = useState(-1);\n  const [customerIndexListNew, setCustomerIndexListNew] = useState<number[]>([]);\n\n  function addRelease() {\n    if (pkgIndex === -1) {\n      return;\n    }\n    if (!customerIndexList.length) {\n      return;\n    }\n    const releaseFound = releaseList.find((release) => release.pkgIndex === pkgIndex);\n    if (releaseFound) {\n      return;\n    }\n    const index = findEmptyIndex(releaseList.map((release) => release.index));\n    const releaseListNew = [\n      ...releaseList,\n      { index, pkgIndex, customerIndexList },\n    ];\n    onChange(releaseListNew);\n    setPkgIndex(-1);\n    setCustomerIndexList([]);\n  }\n\n  function moveNewer(index: number) {\n    const indexFound = releaseList.findIndex((release) => release.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    if (indexFound === releaseList.length - 1) {\n      return;\n    }\n    const releaseListNew = [\n      ...releaseList.slice(0, indexFound),\n      releaseList[indexFound + 1],\n      releaseList[indexFound],\n      ...releaseList.slice(indexFound + 2),\n    ];\n    onChange(releaseListNew);\n  }\n\n  function moveOlder(index: number) {\n    const indexFound = releaseList.findIndex((release) => release.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    if (indexFound === 0) {\n      return;\n    }\n    const releaseListNew = [\n      ...releaseList.slice(0, indexFound - 1),\n      releaseList[indexFound],\n      releaseList[indexFound - 1],\n      ...releaseList.slice(indexFound + 1),\n    ];\n    onChange(releaseListNew);\n  }\n\n  function onClickEdit(index: number) {\n    const releaseFound = releaseList.find((release) => release.index === index);\n    if (!releaseFound) {\n      return;\n    }\n    const { pkgIndex, customerIndexList } = releaseFound;\n    const pkgFound = pkgList.find((pkg) => pkg.index === pkgIndex);\n    if (!pkgFound) {\n      return;\n    }\n    setPkgIndexNew(pkgIndex);\n    setCustomerIndexListNew(customerIndexList);\n    setEditIndex(index);\n  }\n\n  function onSubmitEditRelease() {\n    if (!customerIndexListNew.length) {\n      return;\n    }\n    const releaseFound = releaseList.find((release) => release.index !== editIndex && release.pkgIndex === pkgIndexNew);\n    if (releaseFound) {\n      return;\n    }\n    const indexFound = releaseList.findIndex((release) => release.index === editIndex);\n    if (indexFound === -1) {\n      return;\n    }\n    const releaseListNew = [\n      ...releaseList.slice(0, indexFound),\n      {\n        index: editIndex,\n        pkgIndex: pkgIndexNew,\n        customerIndexList: customerIndexListNew,\n      },\n      ...releaseList.slice(indexFound + 1),\n    ];\n    onChange(releaseListNew);\n    setEditIndex(-1);\n  }\n\n  function removeRelease(index: number) {\n    const indexFound = releaseList.findIndex((release) => release.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const releaseListNew = [\n      ...releaseList.slice(0, indexFound),\n      ...releaseList.slice(indexFound + 1),\n    ];\n    onChange(releaseListNew);\n  }\n\n  return (\n    <Table celled compact selectable>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>Package</Table.HeaderCell>\n          <Table.HeaderCell rowSpan={2}>Actions</Table.HeaderCell>\n        </Table.Row>\n        <Table.Row>\n          <Table.HeaderCell>Customers</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        <Table.Row active>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <select value={pkgIndex} onChange={(e) => setPkgIndex(+e.target.value)}>\n                  <option value={-1}>Select a package</option>\n                  {\n                    pkgList.map((pkg) => {\n                      const { index, name, lineupIndex } = pkg;\n                      const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n                      const lineup = `- Lineup: ${lineupFound ? lineupFound.name : '(None)'}`;\n                      return (\n                        <option key={index} value={index}>{name} {lineup}</option>\n                      )\n                    })\n                  }\n                </select>\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell rowSpan={2}>\n            <Button icon='plus' size='tiny' onClick={addRelease} disabled={editIndex !== -1} />\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row active>\n          <Table.Cell>\n            <EnumSelector enumList={customerList} selectedIndexList={customerIndexList}\n              onChange={setCustomerIndexList}\n              disabled={editIndex !== -1}\n            />\n          </Table.Cell>\n        </Table.Row>\n        {\n          releaseList.map((release) => {\n            const { index, pkgIndex, customerIndexList }= release;\n            const pkgFound = pkgList.find((pkg) => pkg.index === pkgIndex) as Pkg;\n            if (!pkgFound) {\n              return (\n                <React.Fragment key={index} />\n              )\n            }\n            const { name, lineupIndex } = pkgFound;\n            const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n            const lineup = `- Lineup: ${lineupFound ? lineupFound.name : '(None)'}`;\n            return index === editIndex ? (\n              <React.Fragment key={index}>\n                <Table.Row>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <select value={pkgIndexNew} onChange={(e) => setPkgIndexNew(+e.target.value)}>\n                          {\n                            pkgList.map((pkg) => {\n                              const { index, name, lineupIndex } = pkg;\n                              const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n                              const lineup = `- Lineup: ${lineupFound ? lineupFound.name : '(None)'}`;\n                              return (\n                                <option key={index} value={index}>{name} {lineup}</option>\n                              )\n                            })\n                          }\n                        </select>\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell rowSpan={2} singleLine>\n                    <Button icon='check' size='tiny' onClick={onSubmitEditRelease} />\n                    <Button icon='cancel' size='tiny' onClick={() => setEditIndex(-1)} />\n                  </Table.Cell>\n                </Table.Row>\n                <Table.Row key={`${index}-lower`}>\n                  <Table.Cell>\n                    <EnumSelector enumList={customerList} selectedIndexList={customerIndexListNew}\n                      onChange={setCustomerIndexListNew}\n                    />\n                  </Table.Cell>\n                </Table.Row>\n              </React.Fragment>\n            ) : (\n              <React.Fragment key={index}>\n                <Table.Row>\n                  <Table.Cell>\n                    <Label ribbon>{name} {lineup}</Label>\n                  </Table.Cell>\n                  <Table.Cell rowSpan={2} singleLine>\n                    <Button icon='edit' size='tiny' onClick={() => onClickEdit(index)} />\n                    <Button icon='trash' size='tiny' onClick={() => removeRelease(index)} />\n                    <Button icon size='tiny' onClick={() => moveOlder(index)} disabled={editIndex !== -1}>\n                      <Icon name='angle up' />\n                      Older\n                    </Button>\n                    <Button icon size='tiny' onClick={() => moveNewer(index)} disabled={editIndex !== -1}>\n                      <Icon name='angle down' />\n                      Newer\n                    </Button>\n                  </Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell>\n                    {\n                      customerList\n                        .filter((customer) => customerIndexList.find((customerIndex) => customer.index === customerIndex) !== undefined)\n                        .map((customer) => customer.name)\n                        .join(', ')\n                    }\n                  </Table.Cell>\n                </Table.Row>\n              </React.Fragment>\n            )\n          })\n        }\n      </Table.Body>\n    </Table>\n  )\n}\n","import { Divider, Header } from \"semantic-ui-react\";\nimport { Change, Enum, Pkg, Release, Version } from \"../types\";\nimport ChangeTable from \"./ChangeTable\";\nimport ReleaseTable from \"./ReleaseTable\";\n\ntype Props = {\n  version: Version;\n  versionList: Version[];\n  lineupList: Enum[];\n  pkgList: Pkg[];\n  customerList: Enum[];\n  onChange: (version: Version) => void;\n};\n\nexport default function VersionComponent({\n  version, versionList, lineupList, pkgList, customerList,\n  onChange,\n}: Props) {\n  const { name, indexPrev, changeList, releaseList } = version;\n  const versionPrevFound = versionList.find((version) => version.index === indexPrev);\n\n  function onChangeChangeList(changeList: Change[]) {\n    const { changeList: changeListOld, ...versionRest } = version;\n    const versionNew = { ...versionRest, changeList };\n    onChange(versionNew);\n  }\n\n  function onChangeReleaseList(releaseList: Release[]) {\n    const { releaseList: releaseListOld, ...versionRest } = version;\n    const versionNew = { ...versionRest, releaseList };\n    onChange(versionNew);\n  }\n\n  return (\n    <>\n      <Divider horizontal>\n        <Header as='h2'>\n          {name}\n          <Header.Subheader>Previous version: {versionPrevFound ? versionPrevFound.name : '(None)'}</Header.Subheader>\n        </Header>\n      </Divider>\n      <Header as='h3'>\n        Releases\n      </Header>\n      <ReleaseTable\n        releaseList={releaseList} lineupList={lineupList} pkgList={pkgList} customerList={customerList}\n        onChange={onChangeReleaseList}\n      />\n      <Header as='h3'>\n        Changes\n      </Header>\n      <ChangeTable\n        changeList={changeList} lineupList={lineupList} customerList={customerList}\n        onChange={onChangeChangeList}\n      />\n    </>\n  );\n}\n","import { useState } from \"react\";\nimport { Button, Form, Icon, Modal, Table, TextArea } from \"semantic-ui-react\";\nimport { Enum, Pkg, Version } from \"../types\";\nimport { findEmptyIndex, publish } from \"../utils\";\nimport VersionComponent from \"./VersionComponent\";\n\ntype Props = {\n  versionList: Version[];\n  onChange: (versionList: Version[]) => void;\n  lineupList: Enum[];\n  pkgList: Pkg[];\n  customerList: Enum[];\n};\n\nexport default function VersionEditor({ versionList, onChange, lineupList, pkgList, customerList }: Props) {\n  const [name, setName] = useState('');\n  const [indexPrev, setIndexPrev] = useState(-1);\n  const [editIndex, setEditIndex] = useState(-1);\n  const [nameNew, setNameNew] = useState('');\n  const [indexPrevNew, setIndexPrevNew] = useState(-1);\n  const [openModal, setOpenModal] = useState(false);\n  const [releaseHistory, setReleaseHistory] = useState('');\n\n  const [index, setIndex] = useState<number>();\n\n  function addVersion() {\n    if (!name) {\n      return;\n    }\n    const versionFound = versionList.find((version) => version.name === name);\n    if (versionFound) {\n      return;\n    }\n    const index = findEmptyIndex(versionList.map((version) => version.index));\n    const versionListNew = [\n      ...versionList,\n      { index, name, indexPrev, changeList: [], releaseList: [] },\n    ];\n    onChange(versionListNew);\n    setName('');\n  }\n\n  function onChangeVersion(version: Version) {\n    const { index } = version;\n    const indexFound = versionList.findIndex((version) => version.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const versionListNew = [\n      ...versionList.slice(0, indexFound),\n      version,\n      ...versionList.slice(indexFound + 1),\n    ];\n    onChange(versionListNew);\n  }\n\n  function onClickEdit(index: number) {\n    const versionFound = versionList.find((version) => version.index === index);\n    if (!versionFound) {\n      return;\n    }\n    setNameNew(versionFound.name);\n    setIndexPrevNew(versionFound.indexPrev);\n    setEditIndex(versionFound.index);\n  }\n\n  function onSubmitEditVersion() {\n    if (!nameNew) {\n      return;\n    }\n    const versionFound = versionList.find((version) => version.index !== editIndex && version.name === nameNew);\n    if (versionFound) {\n      return;\n    }\n    const indexFound = versionList.findIndex((version) => version.index === editIndex);\n    if (indexFound === -1) {\n      return;\n    }\n    const { changeList, releaseList } = versionList[indexFound];\n    const versionListNew = [\n      ...versionList.slice(0, indexFound),\n      {\n        index: editIndex,\n        name: nameNew,\n        indexPrev: indexPrevNew,\n        changeList,\n        releaseList,\n      },\n      ...versionList.slice(indexFound + 1),\n    ];\n    onChange(versionListNew);\n    setEditIndex(-1);\n  }\n\n  function onClickPublish(index: number) {\n    const releaseHistory = publish(versionList, index, lineupList, pkgList, customerList);\n    if (!releaseHistory) {\n      return;\n    }\n    setReleaseHistory(releaseHistory);\n    setOpenModal(true);\n  }\n\n  function removeVersion(index: number) {\n    const indexFound = versionList.findIndex((version) => version.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const versionListNew = [\n      ...versionList.slice(0, indexFound),\n      ...versionList.slice(indexFound + 1),\n    ];\n    onChange(versionListNew);\n  }\n\n  const version = index === undefined ? versionList[0] : versionList.find((version) => version.index === index);\n  return (\n    <>\n      <Table celled compact selectable>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>Version</Table.HeaderCell>\n            <Table.HeaderCell>Previous version</Table.HeaderCell>\n            <Table.HeaderCell>Actions</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n          <Table.Row active>\n            <Table.Cell>\n              <Form>\n                <Form.Field disabled={editIndex !== -1}>\n                  <input value={name} onChange={(e) => setName(e.target.value)} />\n                </Form.Field>\n              </Form>\n            </Table.Cell>\n            <Table.Cell>\n              <Form>\n                <Form.Field disabled={editIndex !== -1}>\n                  <select value={indexPrev} onChange={(e) => setIndexPrev(+e.target.value)}>\n                    <option value={-1}>(None)</option>\n                    {\n                      versionList.map((version) => {\n                        const { index, name } = version;\n                        return (\n                          <option key={index} value={index}>{name}</option>\n                        )\n                      })\n                    }\n                  </select>\n                </Form.Field>\n              </Form>\n            </Table.Cell>\n            <Table.Cell>\n              <Button icon='plus' size='tiny' onClick={addVersion} disabled={editIndex !== -1} />\n            </Table.Cell>\n          </Table.Row>\n          {\n            versionList.map((version) => {\n              const { index, name, indexPrev } = version;\n              if (index === editIndex) {\n                return (\n                  <Table.Row key={index}>\n                    <Table.Cell>\n                      <Form>\n                        <Form.Field>\n                          <input value={nameNew} onChange={(e) => setNameNew(e.target.value)} />\n                        </Form.Field>\n                      </Form>\n                    </Table.Cell>\n                    <Table.Cell>\n                      <Form>\n                        <Form.Field>\n                          <select value={indexPrevNew} onChange={(e) => setIndexPrevNew(+e.target.value)}>\n                            <option value={-1}>(None)</option>\n                            {\n                              versionList.map((version) => {\n                                const { index, name } = version;\n                                return (\n                                  <option key={index} value={index} disabled={index === editIndex}>{name}</option>\n                                )\n                              })\n                            }\n                          </select>\n                        </Form.Field>\n                      </Form>\n                    </Table.Cell>\n                    <Table.Cell singleLine>\n                      <Button icon='check' size='tiny' onClick={onSubmitEditVersion} />\n                      <Button icon='cancel' size='tiny' onClick={() => setEditIndex(-1)} />\n                    </Table.Cell>\n                  </Table.Row>\n                )\n              }\n              const versionPrevFound = versionList.find((version) => version.index === indexPrev);\n              const namePrev = versionPrevFound ? versionPrevFound.name : '(None)';\n              const versionReferringFound = !!versionList.find((version) => version.indexPrev === index);\n              return (\n                <Table.Row key={index}>\n                  <Table.Cell>\n                    <button className='a-like-button' onClick={() => setIndex(index)}>{name}</button>\n                    </Table.Cell>\n                  <Table.Cell>{namePrev}</Table.Cell>\n                  <Table.Cell singleLine>\n                    <Button icon='edit' size='tiny' onClick={() => onClickEdit(index)} />\n                    <Button icon='trash' size='tiny'\n                      disabled={versionReferringFound}\n                      onClick={() => removeVersion(index)}\n                    />\n                    <Button icon='list' size='tiny' onClick={() => onClickPublish(index)} />\n                  </Table.Cell>\n                </Table.Row>\n              )\n            })\n          }\n        </Table.Body>\n      </Table>\n      {\n        version ? (\n          <VersionComponent version={version} versionList={versionList}\n            lineupList={lineupList} pkgList={pkgList} customerList={customerList}\n            onChange={onChangeVersion}\n          />\n        ) : <></>\n      }\n      <Modal open={openModal} onClose={() => setOpenModal(false)}>\n        <Modal.Header>Release history</Modal.Header>\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <TextArea value={releaseHistory} rows={24} />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button icon size='tiny' onClick={() => navigator.clipboard.writeText(releaseHistory)}>\n            <Icon name='clipboard' />\n            Copy to clipboard\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    </>\n  );\n}\n","import { createRef, useState } from 'react';\nimport 'semantic-ui-css/semantic.min.css';\nimport './App.css';\nimport { Container, Form, Header, Icon, Menu, Segment } from 'semantic-ui-react';\nimport EnumTable from './components/EnumTable';\nimport PkgTable from './components/PkgTable';\nimport VersionEditor from './components/VersionEditor';\nimport { Enum, Pkg, Version } from './types';\nimport { load } from './utils';\n\nconst UNTITLED = 'Untitled';\n\nconst PANE_VERSION = 'version';\nconst PANE_LINEUP = 'lineup';\nconst PANE_PACKAGE = 'package';\nconst PANE_CUSTOMER = 'customer';\n\nfunction App() {\n  const refLoad = createRef<HTMLInputElement>();\n  let file: File | undefined;\n  const refSave = createRef<HTMLAnchorElement>();\n  const [featureName, setFeatureName] = useState(UNTITLED);\n  const [versionList, setVersionList] = useState<Version[]>([]);\n  const [lineupList, setLineupList] = useState<Enum[]>([]);\n  const [pkgList, setPkgList] = useState<Pkg[]>([]);\n  const [customerList, setCustomerList] = useState<Enum[]>([]);\n  const [pane, setPane] = useState(PANE_VERSION);\n\n  function onChangeFile(e: React.ChangeEvent<HTMLInputElement>) {\n    const { files } = e.target;\n    if (!files) {\n      return;\n    }\n    file = files[0];\n    if (!file) {\n      return;\n    }\n    reader.readAsText(file);\n  }\n\n  function onClickNew() {\n    setFeatureName(UNTITLED);\n    setVersionList([]);\n    setLineupList([\n      { index: 0, name: '(None)' },\n    ]);\n    setPkgList([]);\n    setCustomerList([]);\n  }\n\n  function onClickSave() {\n    if (refSave.current === null) {\n      return;\n    }\n    const blob = new Blob(\n      [JSON.stringify({ versionList, lineupList, pkgList, customerList })],\n      { type: 'application/json' },\n    );\n    refSave.current.download = `${featureName}.json`;\n    refSave.current.href=window.URL.createObjectURL(blob);\n    refSave.current.click();\n  }\n\n  const reader = new FileReader();\n  reader.onload = (e) => {\n    if (!file) {\n      return;\n    }\n    if (!e.target) {\n      return;\n    }\n    const { result } = e.target;\n    if (result === null || result instanceof ArrayBuffer) {\n      return;\n    }\n    const { name } = file;\n    const indexLast = name.lastIndexOf('.');\n    const featureName = name.substring(0, indexLast);\n    const { versionList, lineupList, pkgList, customerList } = load(result);\n    setFeatureName(featureName);\n    setCustomerList(customerList);\n    setLineupList(lineupList);\n    setPkgList(pkgList);\n    setVersionList(versionList);\n  }\n\n  const usedLineupIndexList = [\n    ...versionList.map((version) => {\n      return version.changeList.map((change) => change.lineupIndex);\n    }).reduce((indexPrevList, indexList) => {\n      return [...indexPrevList, ...indexList];\n    }, []),\n    ...pkgList.map((pkg) => pkg.lineupIndex),\n  ];\n  const usedPkgIndexList = [\n    ...versionList.map((version) => {\n      return version.releaseList.map((release) => release.pkgIndex);\n    }).reduce((indexPrevList, indexList) => {\n      return [...indexPrevList, ...indexList];\n    }, []),\n  ];\n  const usedCustomerIndexList = [\n    ...versionList.map((version) => {\n      return version.changeList.map((change) => change.customerIndexList).reduce((indexListPrev, indexList) => {\n        return [\n          ...indexListPrev,\n          ...indexList,\n        ];\n      }, []);\n    }).reduce((indexPrevList, indexList) => {\n      return [...indexPrevList, ...indexList];\n    }, []),\n    ...versionList.map((version) => {\n      return version.releaseList.map((release) => release.customerIndexList).reduce((indexListPrev, indexList) => {\n        return [\n          ...indexListPrev,\n          ...indexList,\n        ];\n      }, []);\n    }).reduce((indexPrevList, indexList) => {\n      return [...indexPrevList, ...indexList];\n    }, []),\n  ];\n\n  return (\n    <div className=\"App\">\n      <Menu pointing>\n        <Menu.Item onClick={onClickNew}>New</Menu.Item>\n        <Menu.Item>\n          <Form>\n            <Form.Field>\n              <input value={featureName} onChange={(e) => setFeatureName(e.target.value)} />\n            </Form.Field>\n          </Form>\n        </Menu.Item>\n        <Menu.Item onClick={() => refLoad.current?.click()}>\n          Load\n        </Menu.Item>\n        <Menu.Item onClick={() => onClickSave()}>\n          Save\n        </Menu.Item>\n        <Menu.Menu position='right'>\n          <Menu.Item\n            active={pane === PANE_VERSION}\n            onClick={() => setPane(PANE_VERSION)}\n          >\n            Versions\n          </Menu.Item>\n          <Menu.Item\n            active={pane === PANE_LINEUP}\n            onClick={() => setPane(PANE_LINEUP)}\n          >\n            Lineups\n          </Menu.Item>\n          <Menu.Item\n            active={pane === PANE_PACKAGE}\n            onClick={() => setPane(PANE_PACKAGE)}\n          >\n            Packages\n          </Menu.Item>\n          <Menu.Item\n            active={pane === PANE_CUSTOMER}\n            onClick={() => setPane(PANE_CUSTOMER)}\n          >\n            Customers\n          </Menu.Item>\n        </Menu.Menu>\n      </Menu>\n      <input type='file' accept='.json' hidden ref={refLoad} onChange={onChangeFile} />\n      {/* eslint-disable-next-line jsx-a11y/anchor-has-content, jsx-a11y/anchor-is-valid */}\n      <a href='#' ref={refSave} hidden />\n      {\n        pane === PANE_VERSION ? (\n          <Container as={Segment}>\n            <Header as='h1'>Versions</Header>\n            <VersionEditor versionList={versionList} onChange={setVersionList} lineupList={lineupList} pkgList={pkgList} customerList={customerList} />\n          </Container>\n        ) : <></>\n      }\n      {\n        pane === PANE_LINEUP ? (\n          <Container as={Segment}>\n            <Header as='h1'>Lineups</Header>\n            <EnumTable title='Lineup' enumList={lineupList} onChange={setLineupList}\n              usedIndexList={usedLineupIndexList}\n            />\n          </Container>\n        ) : <></>\n      }\n      {\n        pane === PANE_PACKAGE ? (\n          <Container as={Segment}>\n            <Header as='h1'>Packages</Header>\n            <PkgTable pkgList={pkgList} lineupList={lineupList} onChange={setPkgList}\n              usedPkgIndexList={usedPkgIndexList}\n            />\n          </Container>\n        ) : <></>\n      }\n      {\n        pane === PANE_CUSTOMER ? (\n          <Container as={Segment}>\n            <Header as='h1'>Customers</Header>\n            <EnumTable title='Customer' enumList={customerList} onChange={setCustomerList}\n              usedIndexList={usedCustomerIndexList}\n            />\n          </Container>\n        ) : <></>\n      }\n      <Container textAlign='center'>\n        <a href='https://github.com/gsongsong/rhm' target='_blank' rel='noreferrer'>\n          <Icon name='github' size='large' />\n        </a>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}