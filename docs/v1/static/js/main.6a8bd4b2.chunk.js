(this.webpackJsonprhm=this.webpackJsonprhm||[]).push([[0],{146:function(e,n,t){},154:function(e,n,t){"use strict";t.r(n);var c=t(1),i=t.n(c),r=t(51),a=t.n(r),s=t(7),l=t(10),j=(t(145),t(146),t(170)),u=t(169),o=t(168),d=t(175),b=t(174),x=t(76),O=t(171),f=t(173);function h(e,n,t,c){for(var i=t.find((function(e){return e.index===c})),r=function(){if(!i)return{v:i};var c=i,r=c.indexPrev,a=c.changeList;if(c.releaseList.find((function(e){return e.customerIndexList.includes(n)})))return"break";e.unshift.apply(e,Object(s.a)(a.filter((function(e){var t=e.customerIndexList;return!t.length||t.includes(n)})))),i=t.find((function(e){return e.index===r}))};i;){var a=r();if("break"===a)break;if("object"===typeof a)return a.v}return i}function v(e){return e.sort((function(e,n){return e-n})).reduce((function(e,n){return n===e?e+1:e}),0)}function p(e){return e.replace(/^/gm,"    ")}function m(e,n,t,c,i){var r=[-1].concat(Object(s.a)(t.map((function(e){return e.index})))),a=[];return r.forEach((function(t){a.push({lineupIndex:t,releaseHistory:g(e,n,t,c,i)})})),a.filter((function(e){return e.releaseHistory})).map((function(e){var n=e.lineupIndex,c=e.releaseHistory,i=t.find((function(e){return e.index===n}));if(i){var r=i.name;return"<".concat(r,">\n").concat(p(c),"\n</").concat(r,">")}return p(c)})).join("\n")}function g(e,n,t,c,i){for(var r=e.find((function(e){return e.index===n})),a=i.index,l=[];r;){var j=r,u=j.indexPrev,o=j.changeList,d=j.releaseList.find((function(e){if(!e.customerIndexList.includes(a))return!1;var n=e.pkgIndex;return!!c.find((function(e){return e.lineupIndex===t&&e.index===n}))}));if(d){if("break"===function(){var n=d.pkgIndex,t=c.find((function(e){return e.index===n}));if(!t)return"break";var i=t.name,j=t.lineupIndex,b=Object(s.a)(o.filter((function(e){var n=e.customerIndexList,t=e.lineupIndex;return(!n.length||n.includes(a))&&j===t})));r=h(b,a,e,u),l.unshift({pkgName:i,changeList:b})}())break}else r=void 0}return l.map((function(e,n){var t=e.pkgName,c=e.changeList,i=0===n?"- Initial release":c.map((function(e){var n=e.description,t=e.beforeChange,c=e.afterChange,i=["[Description]",p(n)];return(t||c)&&i.push("[Enhancement]"),t&&(i.push(p("[Before change]")),i.push(p(p(t)))),c&&(i.push(p("[After change]")),i.push(p(p(c)))),i.join("\n")})).join("\n");return i?"".concat(t,"\n").concat(p(i)):""})).filter((function(e){return!!e})).join("\n").trim()}var C=t(0);function L(e){var n=e.title,t=e.enumList,i=e.onChange,r=e.usedIndexList,a=Object(c.useState)(-1),j=Object(l.a)(a,2),o=j[0],d=j[1],b=Object(c.useState)(""),x=Object(l.a)(b,2),h=x[0],p=x[1],m=Object(c.useState)(""),g=Object(l.a)(m,2),L=g[0],I=g[1];function k(){if(h&&!t.find((function(e){return e.name===h}))){var e=v(t.map((function(e){return e.index}))),n=[].concat(Object(s.a)(t),[{index:e,name:h}]).sort((function(e,n){return e.name.localeCompare(n.name)}));i(n),p("")}}function S(e){if(L&&!t.find((function(n){return n.index!==e&&n.name===L}))){var n=t.findIndex((function(n){return n.index===e}));if(-1!==n){var c=[].concat(Object(s.a)(t.slice(0,n)),[{index:e,name:L}],Object(s.a)(t.slice(n+1)));i(c),d(-1)}}}return Object(C.jsxs)(O.a,{celled:!0,compact:!0,selectable:!0,children:[Object(C.jsx)(O.a.Header,{children:Object(C.jsxs)(O.a.Row,{children:[Object(C.jsx)(O.a.HeaderCell,{children:n}),Object(C.jsx)(O.a.HeaderCell,{children:"Actions"})]})}),Object(C.jsxs)(O.a.Body,{children:[Object(C.jsxs)(O.a.Row,{active:!0,children:[Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{onSubmit:k,children:Object(C.jsx)(u.a.Field,{disabled:-1!==o,children:Object(C.jsx)("input",{value:h,onChange:function(e){return p(e.target.value)}})})})}),Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(f.a,{icon:"plus",size:"tiny",onClick:k,disabled:-1!==o})})]}),t.map((function(e){var n=e.index,c=e.name;return n===o?Object(C.jsxs)(O.a.Row,{children:[Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{onSubmit:function(){return S(n)},children:Object(C.jsx)(u.a.Field,{children:Object(C.jsx)("input",{value:L,onChange:function(e){return I(e.target.value)}})})})}),Object(C.jsxs)(O.a.Cell,{singleLine:!0,children:[Object(C.jsx)(f.a,{icon:"check",size:"tiny",onClick:function(){return S(n)}}),Object(C.jsx)(f.a,{icon:"cancel",size:"tiny",onClick:function(){return d(-1)}})]})]},n):Object(C.jsxs)(O.a.Row,{children:[Object(C.jsx)(O.a.Cell,{children:c}),Object(C.jsxs)(O.a.Cell,{singleLine:!0,children:[Object(C.jsx)(f.a,{icon:"edit",size:"tiny",onClick:function(){return function(e){var n=t.find((function(n){return n.index===e}));n&&(I(n.name),d(e))}(n)}}),Object(C.jsx)(f.a,{icon:"trash",size:"tiny",onClick:function(){return function(e){if(!r||!r.includes(e)){var n=t.findIndex((function(n){return n.index===e}));if(-1!==n){var c=[].concat(Object(s.a)(t.slice(0,n)),Object(s.a)(t.slice(n+1)));i(c)}}}(n)},disabled:r&&r.includes(n)})]})]},n)}))]})]})}function I(e){var n=e.pkgList,t=e.lineupList,i=e.onChange,r=e.usedPkgIndexList,a=Object(c.useState)(-1),j=Object(l.a)(a,2),o=j[0],d=j[1],b=Object(c.useState)(""),x=Object(l.a)(b,2),h=x[0],p=x[1],m=Object(c.useState)(-1),g=Object(l.a)(m,2),L=g[0],I=g[1],k=Object(c.useState)(""),S=Object(l.a)(k,2),y=S[0],w=S[1],F=Object(c.useState)(-1),z=Object(l.a)(F,2),N=z[0],R=z[1];return Object(C.jsxs)(O.a,{celled:!0,compact:!0,selectable:!0,children:[Object(C.jsx)(O.a.Header,{children:Object(C.jsxs)(O.a.Row,{children:[Object(C.jsx)(O.a.HeaderCell,{children:"Package"}),Object(C.jsx)(O.a.HeaderCell,{children:"Lineup"}),Object(C.jsx)(O.a.HeaderCell,{children:"Actions"})]})}),Object(C.jsxs)(O.a.Body,{children:[Object(C.jsxs)(O.a.Row,{active:!0,children:[Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{disabled:-1!==o,children:Object(C.jsx)("input",{value:h,onChange:function(e){return p(e.target.value)}})})})}),Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{disabled:-1!==o,children:Object(C.jsxs)("select",{value:L,onChange:function(e){return I(+e.target.value)},children:[Object(C.jsx)("option",{value:-1,children:"(None)"}),t.map((function(e){var n=e.index,t=e.name;return Object(C.jsx)("option",{value:n,children:t},n)}))]})})})}),Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(f.a,{icon:"plus",size:"tiny",onClick:function(){if(h&&!n.find((function(e){return e.name===h}))){var e=v(n.map((function(e){return e.index}))),t=[].concat(Object(s.a)(n),[{index:e,name:h,lineupIndex:L}]).sort((function(e,n){return e.name.localeCompare(n.name)}));i(t),p("")}},disabled:-1!==o})})]}),n.map((function(e){var c=e.index,a=e.name,l=e.lineupIndex,j=t.find((function(e){return e.index===l})),b=j?j.name:"(None)";return c===o?Object(C.jsxs)(O.a.Row,{children:[Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{children:Object(C.jsx)("input",{value:y,onChange:function(e){return w(e.target.value)}})})})}),Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{children:Object(C.jsxs)("select",{value:N,onChange:function(e){return R(+e.target.value)},children:[Object(C.jsx)("option",{value:-1,children:"(None)"}),t.map((function(e){var n=e.index,t=e.name;return Object(C.jsx)("option",{value:n,children:t},n)}))]})})})}),Object(C.jsxs)(O.a.Cell,{singleLine:!0,children:[Object(C.jsx)(f.a,{icon:"check",size:"tiny",onClick:function(){return function(e){if(y&&!n.find((function(n){return n.index!==e&&n.name===y}))){var t=n.findIndex((function(n){return n.index===e}));if(-1!==t){var c=[].concat(Object(s.a)(n.slice(0,t)),[{index:e,name:y,lineupIndex:N}],Object(s.a)(n.slice(t+1)));i(c),d(-1)}}}(c)}}),Object(C.jsx)(f.a,{icon:"cancel",size:"tiny",onClick:function(){return d(-1)}})]})]},c):Object(C.jsxs)(O.a.Row,{children:[Object(C.jsx)(O.a.Cell,{children:a}),Object(C.jsx)(O.a.Cell,{children:b}),Object(C.jsxs)(O.a.Cell,{singleLine:!0,children:[Object(C.jsx)(f.a,{icon:"edit",size:"tiny",onClick:function(){return function(e){var t=n.find((function(n){return n.index===e}));t&&(w(t.name),R(t.lineupIndex),d(e))}(c)}}),Object(C.jsx)(f.a,{icon:"trash",size:"tiny",onClick:function(){return function(e){if(!r||!r.includes(e)){var t=n.findIndex((function(n){return n.index===e}));if(-1!==t){var c=[].concat(Object(s.a)(n.slice(0,t)),Object(s.a)(n.slice(t+1)));i(c)}}}(c)},disabled:r&&r.includes(c)})]})]},c)}))]})]})}var k=t(172),S=t(166),y=t(83),w=t(117),F=t(167),z=t(105);function N(e){var n=e.enumList,t=e.selectedIndexList,c=e.onChange,i=e.disabled;return Object(C.jsx)(C.Fragment,{children:n.map((function(e){var n=e.index,r=e.name,a=void 0!==t.find((function(e){return e===n})),l=a?"blue":void 0,j=a?"plus":"minus";return Object(C.jsxs)(z.a,{as:"a",onClick:function(){return function(e){if(!i){var n=t.findIndex((function(n){return n===e})),r=-1===n?[].concat(Object(s.a)(t),[e]):[].concat(Object(s.a)(t.slice(0,n)),Object(s.a)(t.slice(n+1)));c(r)}}(n)},className:"customer-label",color:l,children:[Object(C.jsx)(x.a,{name:j}),r]},n)}))})}function R(e){var n=e.changeList,t=e.lineupList,r=e.customerList,a=e.onChange,j=Object(c.useState)(""),o=Object(l.a)(j,2),d=o[0],b=o[1],x=Object(c.useState)(""),h=Object(l.a)(x,2),p=h[0],m=h[1],g=Object(c.useState)(""),L=Object(l.a)(g,2),I=L[0],k=L[1],y=Object(c.useState)([]),w=Object(l.a)(y,2),F=w[0],z=w[1],R=Object(c.useState)(-1),H=Object(l.a)(R,2),P=H[0],A=H[1],B=Object(c.useState)(-1),E=Object(l.a)(B,2),J=E[0],T=E[1],D=Object(c.useState)(""),U=Object(l.a)(D,2),V=U[0],M=U[1],_=Object(c.useState)(""),q=Object(l.a)(_,2),G=q[0],K=q[1],Q=Object(c.useState)(""),W=Object(l.a)(Q,2),X=W[0],Y=W[1],Z=Object(c.useState)([]),$=Object(l.a)(Z,2),ee=$[0],ne=$[1],te=Object(c.useState)(-1),ce=Object(l.a)(te,2),ie=ce[0],re=ce[1];function ae(){var e=n.findIndex((function(e){return e.index===J}));if(-1!==e){var t=[].concat(Object(s.a)(n.slice(0,e)),[{index:J,description:V,beforeChange:G,afterChange:X,customerIndexList:ee,lineupIndex:ie}],Object(s.a)(n.slice(e+1)));a(t),T(-1)}}return Object(C.jsxs)(O.a,{celled:!0,compact:!0,selectable:!0,children:[Object(C.jsxs)(O.a.Header,{children:[Object(C.jsxs)(O.a.Row,{children:[Object(C.jsx)(O.a.HeaderCell,{children:"Description"}),Object(C.jsx)(O.a.HeaderCell,{children:"Before change"}),Object(C.jsx)(O.a.HeaderCell,{children:"After change"}),Object(C.jsx)(O.a.HeaderCell,{children:"Lineup"}),Object(C.jsx)(O.a.HeaderCell,{rowSpan:2,children:"Actions"})]}),Object(C.jsx)(O.a.Row,{children:Object(C.jsx)(O.a.HeaderCell,{colSpan:4,children:"Customers"})})]}),Object(C.jsxs)(O.a.Body,{children:[Object(C.jsxs)(O.a.Row,{active:!0,children:[Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{disabled:-1!==J,children:Object(C.jsx)(S.a,{value:d,onChange:function(e){return b(e.target.value)},className:"no-resize-textarea"})})})}),Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{disabled:-1!==J,children:Object(C.jsx)(S.a,{value:p,onChange:function(e){return m(e.target.value)},className:"no-resize-textarea"})})})}),Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{disabled:-1!==J,children:Object(C.jsx)(S.a,{value:I,onChange:function(e){return k(e.target.value)},className:"no-resize-textarea"})})})}),Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{disabled:-1!==J,children:Object(C.jsxs)("select",{value:P,onChange:function(e){return A(+e.target.value)},children:[Object(C.jsx)("option",{value:-1,children:"(None)"}),t.map((function(e){var n=e.index,t=e.name;return Object(C.jsx)("option",{value:n,children:t},n)}))]})})})}),Object(C.jsx)(O.a.Cell,{rowSpan:2,children:Object(C.jsx)(f.a,{icon:"plus",size:"tiny",onClick:function(){if(d){var e=v(n.map((function(e){return e.index}))),t=[].concat(Object(s.a)(n),[{index:e,description:d,beforeChange:p,afterChange:I,customerIndexList:F,lineupIndex:P}]);a(t),b(""),m(""),k(""),z([]),A(-1)}},disabled:-1!==J})})]}),Object(C.jsx)(O.a.Row,{active:!0,children:Object(C.jsx)(O.a.Cell,{colSpan:4,children:Object(C.jsx)(N,{enumList:r,selectedIndexList:F,onChange:z,disabled:-1!==J})})}),n.map((function(e){var c=e.index,l=e.description,j=e.beforeChange,o=e.afterChange,d=e.customerIndexList,b=e.lineupIndex,x=t.find((function(e){return e.index===b})),h=x?x.name:"(None)";return c===J?Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsxs)(O.a.Row,{children:[Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{children:Object(C.jsx)(S.a,{value:V,onChange:function(e){return M(e.target.value)},className:"no-resize-textarea"})})})}),Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{children:Object(C.jsx)(S.a,{value:G,onChange:function(e){return K(e.target.value)},className:"no-resize-textarea"})})})}),Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{children:Object(C.jsx)(S.a,{value:X,onChange:function(e){return Y(e.target.value)},className:"no-resize-textarea"})})})}),Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{children:Object(C.jsxs)("select",{value:ie,onChange:function(e){return re(+e.target.value)},children:[Object(C.jsx)("option",{value:-1,children:"(None)"}),t.map((function(e){var n=e.index,t=e.name;return Object(C.jsx)("option",{value:n,children:t},n)}))]})})})}),Object(C.jsxs)(O.a.Cell,{rowSpan:2,singleLine:!0,children:[Object(C.jsx)(f.a,{icon:"check",size:"tiny",onClick:ae}),Object(C.jsx)(f.a,{icon:"cancel",size:"tiny",onClick:function(){return T(-1)}})]})]}),Object(C.jsx)(O.a.Row,{children:Object(C.jsx)(O.a.Cell,{colSpan:4,children:Object(C.jsx)(N,{enumList:r,selectedIndexList:ee,onChange:ne})})})]},c):Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsxs)(O.a.Row,{children:[Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{children:Object(C.jsx)(S.a,{value:l,className:"no-border-textarea no-resize-textarea"})})})}),Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{children:Object(C.jsx)(S.a,{value:j,className:"no-border-textarea no-resize-textarea"})})})}),Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{children:Object(C.jsx)(S.a,{value:o,className:"no-border-textarea no-resize-textarea"})})})}),Object(C.jsx)(O.a.Cell,{children:h}),Object(C.jsxs)(O.a.Cell,{rowSpan:2,singleLine:!0,children:[Object(C.jsx)(f.a,{icon:"edit",size:"tiny",onClick:function(){return function(e){var t=n.find((function(n){return n.index===e}));if(t){var c=t.description,i=t.beforeChange,r=t.afterChange,a=t.lineupIndex,s=t.customerIndexList;M(c),K(i),Y(r),re(a),ne(s),T(e)}}(c)}}),Object(C.jsx)(f.a,{icon:"trash",size:"tiny",onClick:function(){return function(e){var t=n.findIndex((function(n){return n.index===e})),c=[].concat(Object(s.a)(n.slice(0,t)),Object(s.a)(n.slice(t+1)));a(c)}(c)}})]})]}),Object(C.jsx)(O.a.Row,{children:Object(C.jsx)(O.a.Cell,{colSpan:4,children:r.filter((function(e){return void 0!==d.find((function(n){return e.index===n}))})).map((function(e){return e.name})).join(", ")})})]},c)}))]}),n.map((function(e){return Object(C.jsx)(C.Fragment,{})}))]})}function H(e){var n=e.releaseList,t=e.lineupList,r=e.pkgList,a=e.customerList,j=e.onChange,o=Object(c.useState)(-1),d=Object(l.a)(o,2),b=d[0],h=d[1],p=Object(c.useState)([]),m=Object(l.a)(p,2),g=m[0],L=m[1],I=Object(c.useState)(-1),k=Object(l.a)(I,2),S=k[0],y=k[1],w=Object(c.useState)(-1),F=Object(l.a)(w,2),R=F[0],H=F[1],P=Object(c.useState)([]),A=Object(l.a)(P,2),B=A[0],E=A[1];function J(){if(B.length&&!n.find((function(e){return e.index!==S&&e.pkgIndex===R}))){var e=n.findIndex((function(e){return e.index===S}));if(-1!==e){var t=[].concat(Object(s.a)(n.slice(0,e)),[{index:S,pkgIndex:R,customerIndexList:B}],Object(s.a)(n.slice(e+1)));j(t),y(-1)}}}return Object(C.jsxs)(O.a,{celled:!0,compact:!0,selectable:!0,children:[Object(C.jsxs)(O.a.Header,{children:[Object(C.jsxs)(O.a.Row,{children:[Object(C.jsx)(O.a.HeaderCell,{children:"Package"}),Object(C.jsx)(O.a.HeaderCell,{rowSpan:2,children:"Actions"})]}),Object(C.jsx)(O.a.Row,{children:Object(C.jsx)(O.a.HeaderCell,{children:"Customers"})})]}),Object(C.jsxs)(O.a.Body,{children:[Object(C.jsxs)(O.a.Row,{active:!0,children:[Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{disabled:-1!==S,children:Object(C.jsxs)("select",{value:b,onChange:function(e){return h(+e.target.value)},children:[Object(C.jsx)("option",{value:-1,children:"Select a package"}),r.map((function(e){var n=e.index,c=e.name,i=e.lineupIndex,r=t.find((function(e){return e.index===i})),a="- Lineup: ".concat(r?r.name:"(None)");return Object(C.jsxs)("option",{value:n,children:[c," ",a]},n)}))]})})})}),Object(C.jsx)(O.a.Cell,{rowSpan:2,children:Object(C.jsx)(f.a,{icon:"plus",size:"tiny",onClick:function(){if(-1!==b&&g.length&&!n.find((function(e){return e.pkgIndex===b}))){var e=v(n.map((function(e){return e.index}))),t=[].concat(Object(s.a)(n),[{index:e,pkgIndex:b,customerIndexList:g}]);j(t),h(-1),L([])}},disabled:-1!==S})})]}),Object(C.jsx)(O.a.Row,{active:!0,children:Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(N,{enumList:a,selectedIndexList:g,onChange:L,disabled:-1!==S})})}),n.map((function(e){var c=e.index,l=e.pkgIndex,o=e.customerIndexList,d=r.find((function(e){return e.index===l}));if(!d)return Object(C.jsx)(i.a.Fragment,{},c);var b=d.name,h=d.lineupIndex,v=t.find((function(e){return e.index===h})),p="- Lineup: ".concat(v?v.name:"(None)");return c===S?Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsxs)(O.a.Row,{children:[Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{children:Object(C.jsx)("select",{value:R,onChange:function(e){return H(+e.target.value)},children:r.map((function(e){var n=e.index,c=e.name,i=e.lineupIndex,r=t.find((function(e){return e.index===i})),a="- Lineup: ".concat(r?r.name:"(None)");return Object(C.jsxs)("option",{value:n,children:[c," ",a]},n)}))})})})}),Object(C.jsxs)(O.a.Cell,{rowSpan:2,singleLine:!0,children:[Object(C.jsx)(f.a,{icon:"check",size:"tiny",onClick:J}),Object(C.jsx)(f.a,{icon:"cancel",size:"tiny",onClick:function(){return y(-1)}})]})]}),Object(C.jsx)(O.a.Row,{children:Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(N,{enumList:a,selectedIndexList:B,onChange:E})})},"".concat(c,"-lower"))]},c):Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsxs)(O.a.Row,{children:[Object(C.jsx)(O.a.Cell,{children:Object(C.jsxs)(z.a,{ribbon:!0,children:[b," ",p]})}),Object(C.jsxs)(O.a.Cell,{rowSpan:2,singleLine:!0,children:[Object(C.jsx)(f.a,{icon:"edit",size:"tiny",onClick:function(){return function(e){var t=n.find((function(n){return n.index===e}));if(t){var c=t.pkgIndex,i=t.customerIndexList;r.find((function(e){return e.index===c}))&&(H(c),E(i),y(e))}}(c)}}),Object(C.jsx)(f.a,{icon:"trash",size:"tiny",onClick:function(){return function(e){var t=n.findIndex((function(n){return n.index===e}));if(-1!==t){var c=[].concat(Object(s.a)(n.slice(0,t)),Object(s.a)(n.slice(t+1)));j(c)}}(c)}}),Object(C.jsxs)(f.a,{icon:!0,size:"tiny",onClick:function(){return function(e){var t=n.findIndex((function(n){return n.index===e}));if(-1!==t&&0!==t){var c=[].concat(Object(s.a)(n.slice(0,t-1)),[n[t],n[t-1]],Object(s.a)(n.slice(t+1)));j(c)}}(c)},disabled:-1!==S,children:[Object(C.jsx)(x.a,{name:"angle up"}),"Older"]}),Object(C.jsxs)(f.a,{icon:!0,size:"tiny",onClick:function(){return function(e){var t=n.findIndex((function(n){return n.index===e}));if(-1!==t&&t!==n.length-1){var c=[].concat(Object(s.a)(n.slice(0,t)),[n[t+1],n[t]],Object(s.a)(n.slice(t+2)));j(c)}}(c)},disabled:-1!==S,children:[Object(C.jsx)(x.a,{name:"angle down"}),"Newer"]})]})]}),Object(C.jsx)(O.a.Row,{children:Object(C.jsx)(O.a.Cell,{children:a.filter((function(e){return void 0!==o.find((function(n){return e.index===n}))})).map((function(e){return e.name})).join(", ")})})]},c)}))]})]})}function P(e){var n=e.version,t=e.versionList,c=e.lineupList,i=e.pkgList,r=e.customerList,a=e.onChange,s=n.name,l=n.indexPrev,j=n.changeList,u=n.releaseList,o=t.find((function(e){return e.index===l}));return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(F.a,{horizontal:!0,children:Object(C.jsxs)(b.a,{as:"h2",children:[s,Object(C.jsxs)(b.a.Subheader,{children:["Previous version: ",o?o.name:"(None)"]})]})}),Object(C.jsx)(b.a,{as:"h3",children:"Releases"}),Object(C.jsx)(H,{releaseList:u,lineupList:c,pkgList:i,customerList:r,onChange:function(e){n.releaseList;var t=Object(w.a)(n,["releaseList"]),c=Object(y.a)(Object(y.a)({},t),{},{releaseList:e});a(c)}}),Object(C.jsx)(b.a,{as:"h3",children:"Changes"}),Object(C.jsx)(R,{changeList:j,lineupList:c,customerList:r,onChange:function(e){n.changeList;var t=Object(w.a)(n,["changeList"]),c=Object(y.a)(Object(y.a)({},t),{},{changeList:e});a(c)}})]})}function A(e){var n=e.versionList,t=e.onChange,i=e.lineupList,r=e.pkgList,a=e.customerList,j=Object(c.useState)(""),o=Object(l.a)(j,2),d=o[0],b=o[1],h=Object(c.useState)(-1),g=Object(l.a)(h,2),L=g[0],I=g[1],y=Object(c.useState)(-1),w=Object(l.a)(y,2),F=w[0],z=w[1],N=Object(c.useState)(""),R=Object(l.a)(N,2),H=R[0],A=R[1],B=Object(c.useState)(-1),E=Object(l.a)(B,2),J=E[0],T=E[1],D=Object(c.useState)(!1),U=Object(l.a)(D,2),V=U[0],M=U[1],_=Object(c.useState)(""),q=Object(l.a)(_,2),G=q[0],K=q[1],Q=Object(c.useState)(),W=Object(l.a)(Q,2),X=W[0],Y=W[1];function Z(){if(H&&!n.find((function(e){return e.index!==F&&e.name===H}))){var e=n.findIndex((function(e){return e.index===F}));if(-1!==e){var c=n[e],i=c.changeList,r=c.releaseList,a=[].concat(Object(s.a)(n.slice(0,e)),[{index:F,name:H,indexPrev:J,changeList:i,releaseList:r}],Object(s.a)(n.slice(e+1)));t(a),z(-1)}}}function $(e){var t=function(e,n,t,c,i){if(!function(e,n){var t=e.find((function(e){return e.index===n}));if(!t)return!1;for(var c=t,i=c,r=i.index,a=i.indexPrev,s=t,l=s,j=l.index,u=l.indexPrev;c||s;){if(!(c=e.find((function(e){return e.index===a}))))return!1;var o=c;if(r=o.index,a=o.indexPrev,!(s=e.find((function(e){return e.index===u}))))return!1;var d=s;if(j=d.index,u=d.indexPrev,!(s=e.find((function(e){return e.index===u}))))return!1;var b=s;if(j=b.index,u=b.indexPrev,r===j)return!0}}(e,n)){var r=[];i.forEach((function(i){r.push({customerIndexList:[i.index],releaseHistory:m(e,n,t,c,i)})}));for(var a=r.length-1;a>=0;a-=1)for(var l=r[a],j=l.customerIndexList,u=l.releaseHistory,o=a-1;o>=0;o-=1){var d=r[o],b=d.customerIndexList;if(u===d.releaseHistory){b.push.apply(b,Object(s.a)(j)),r.splice(a,1);break}}return r.filter((function(e){return e.releaseHistory})).map((function(e){var n,t,c=e.customerIndexList,r=e.releaseHistory,a=(n=i,t=c,n.filter((function(e){return t.includes(e.index)})).map((function(e){return e.name}))).join(", ");return"<".concat(a,">\n").concat(p(r),"\n</").concat(a,">")})).join("\n")}}(n,e,i,r,a);t&&(K(t),M(!0))}var ee=void 0===X?n[0]:n.find((function(e){return e.index===X}));return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(O.a,{celled:!0,compact:!0,selectable:!0,children:[Object(C.jsx)(O.a.Header,{children:Object(C.jsxs)(O.a.Row,{children:[Object(C.jsx)(O.a.HeaderCell,{children:"Version"}),Object(C.jsx)(O.a.HeaderCell,{children:"Previous version"}),Object(C.jsx)(O.a.HeaderCell,{children:"Actions"})]})}),Object(C.jsxs)(O.a.Body,{children:[Object(C.jsxs)(O.a.Row,{active:!0,children:[Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{disabled:-1!==F,children:Object(C.jsx)("input",{value:d,onChange:function(e){return b(e.target.value)}})})})}),Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{disabled:-1!==F,children:Object(C.jsxs)("select",{value:L,onChange:function(e){return I(+e.target.value)},children:[Object(C.jsx)("option",{value:-1,children:"(None)"}),n.map((function(e){var n=e.index,t=e.name;return Object(C.jsx)("option",{value:n,children:t},n)}))]})})})}),Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(f.a,{icon:"plus",size:"tiny",onClick:function(){if(d&&!n.find((function(e){return e.name===d}))){var e=v(n.map((function(e){return e.index}))),c=[].concat(Object(s.a)(n),[{index:e,name:d,indexPrev:L,changeList:[],releaseList:[]}]);t(c),b("")}},disabled:-1!==F})})]}),n.map((function(e){var c=e.index,i=e.name,r=e.indexPrev;if(c===F)return Object(C.jsxs)(O.a.Row,{children:[Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{children:Object(C.jsx)("input",{value:H,onChange:function(e){return A(e.target.value)}})})})}),Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{children:Object(C.jsxs)("select",{value:J,onChange:function(e){return T(+e.target.value)},children:[Object(C.jsx)("option",{value:-1,children:"(None)"}),n.map((function(e){var n=e.index,t=e.name;return Object(C.jsx)("option",{value:n,disabled:n===F,children:t},n)}))]})})})}),Object(C.jsxs)(O.a.Cell,{singleLine:!0,children:[Object(C.jsx)(f.a,{icon:"check",size:"tiny",onClick:Z}),Object(C.jsx)(f.a,{icon:"cancel",size:"tiny",onClick:function(){return z(-1)}})]})]},c);var a=n.find((function(e){return e.index===r})),l=a?a.name:"(None)",j=!!n.find((function(e){return e.indexPrev===c}));return Object(C.jsxs)(O.a.Row,{children:[Object(C.jsx)(O.a.Cell,{children:Object(C.jsx)("button",{className:"a-like-button",onClick:function(){return Y(c)},children:i})}),Object(C.jsx)(O.a.Cell,{children:l}),Object(C.jsxs)(O.a.Cell,{singleLine:!0,children:[Object(C.jsx)(f.a,{icon:"edit",size:"tiny",onClick:function(){return function(e){var t=n.find((function(n){return n.index===e}));t&&(A(t.name),T(t.indexPrev),z(t.index))}(c)}}),Object(C.jsx)(f.a,{icon:"trash",size:"tiny",disabled:j,onClick:function(){return function(e){var c=n.findIndex((function(n){return n.index===e}));if(-1!==c){var i=[].concat(Object(s.a)(n.slice(0,c)),Object(s.a)(n.slice(c+1)));t(i)}}(c)}}),Object(C.jsx)(f.a,{icon:"list",size:"tiny",onClick:function(){return $(c)}})]})]},c)}))]})]}),ee?Object(C.jsx)(P,{version:ee,versionList:n,lineupList:i,pkgList:r,customerList:a,onChange:function(e){var c=e.index,i=n.findIndex((function(e){return e.index===c}));if(-1!==i){var r=[].concat(Object(s.a)(n.slice(0,i)),[e],Object(s.a)(n.slice(i+1)));t(r)}}}):Object(C.jsx)(C.Fragment,{}),Object(C.jsxs)(k.a,{open:V,onClose:function(){return M(!1)},children:[Object(C.jsx)(k.a.Header,{children:"Release history"}),Object(C.jsx)(k.a.Content,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{children:Object(C.jsx)(S.a,{value:G,rows:24})})})}),Object(C.jsx)(k.a.Actions,{children:Object(C.jsxs)(f.a,{icon:!0,size:"tiny",onClick:function(){return navigator.clipboard.writeText(G)},children:[Object(C.jsx)(x.a,{name:"clipboard"}),"Copy to clipboard"]})})]})]})}var B="Untitled",E="version",J="lineup",T="package",D="customer";var U=function(){var e,n=Object(c.createRef)(),t=Object(c.createRef)(),i=Object(c.useState)(B),r=Object(l.a)(i,2),a=r[0],O=r[1],f=Object(c.useState)([]),h=Object(l.a)(f,2),v=h[0],p=h[1],m=Object(c.useState)([]),g=Object(l.a)(m,2),k=g[0],S=g[1],y=Object(c.useState)([]),w=Object(l.a)(y,2),F=w[0],z=w[1],N=Object(c.useState)([]),R=Object(l.a)(N,2),H=R[0],P=R[1],U=Object(c.useState)(E),V=Object(l.a)(U,2),M=V[0],_=V[1],q=new FileReader;q.onload=function(n){if(e&&n.target){var t=n.target.result;if(!(null===t||t instanceof ArrayBuffer)){var c=e.name,i=c.lastIndexOf("."),r=c.substring(0,i),a=function(e){var n=JSON.parse(e),t=n.versionList,c=n.lineupList,i=n.pkgList,r=n.customerList;return t[0]&&void 0!==t[0].versionIndex?{versionList:t.map((function(e){var n=e.versionIndex,t=e.versionName,c=e.versionIndexPrev,i=e.changeList,r=e.releaseList;return{index:n,name:t,indexPrev:c,changeList:i.map((function(e){return{index:e.changeIndex,description:e.description,beforeChange:e.beforeChange,afterChange:e.afterChange,customerIndexList:e.targetCustomerList.map((function(e){return e.customerIndex})),lineupIndex:-1}})),releaseList:r.map((function(e){return{index:e.releaseIndex,pkgIndex:e.pkgIndex,customerIndexList:e.targetCustomerList.map((function(e){return e.customerIndex}))}}))}})),lineupList:[],pkgList:i.map((function(e){return{index:e.pkgIndex,name:e.pkgName,lineupIndex:-1}})),customerList:r.map((function(e){return{index:e.customerIndex,name:e.customerName}}))}:{versionList:t,lineupList:c,pkgList:i,customerList:r}}(t),s=a.versionList,l=a.lineupList,j=a.pkgList,u=a.customerList;O(r),P(u),S(l),z(j),p(s)}}};var G=[].concat(Object(s.a)(v.map((function(e){return e.changeList.map((function(e){return e.lineupIndex}))})).reduce((function(e,n){return[].concat(Object(s.a)(e),Object(s.a)(n))}),[])),Object(s.a)(F.map((function(e){return e.lineupIndex})))),K=Object(s.a)(v.map((function(e){return e.releaseList.map((function(e){return e.pkgIndex}))})).reduce((function(e,n){return[].concat(Object(s.a)(e),Object(s.a)(n))}),[])),Q=[].concat(Object(s.a)(v.map((function(e){return e.changeList.map((function(e){return e.customerIndexList})).reduce((function(e,n){return[].concat(Object(s.a)(e),Object(s.a)(n))}),[])})).reduce((function(e,n){return[].concat(Object(s.a)(e),Object(s.a)(n))}),[])),Object(s.a)(v.map((function(e){return e.releaseList.map((function(e){return e.customerIndexList})).reduce((function(e,n){return[].concat(Object(s.a)(e),Object(s.a)(n))}),[])})).reduce((function(e,n){return[].concat(Object(s.a)(e),Object(s.a)(n))}),[])));return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsxs)(j.a,{pointing:!0,children:[Object(C.jsx)(j.a.Item,{onClick:function(){O(B),p([]),S([{index:0,name:"(None)"}]),z([]),P([])},children:"New"}),Object(C.jsx)(j.a.Item,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Field,{children:Object(C.jsx)("input",{value:a,onChange:function(e){return O(e.target.value)}})})})}),Object(C.jsx)(j.a.Item,{onClick:function(){var e;return null===(e=n.current)||void 0===e?void 0:e.click()},children:"Load"}),Object(C.jsx)(j.a.Item,{onClick:function(){return function(){if(null!==t.current){var e=new Blob([JSON.stringify({versionList:v,lineupList:k,pkgList:F,customerList:H})],{type:"application/json"});t.current.download="".concat(a,".json"),t.current.href=window.URL.createObjectURL(e),t.current.click()}}()},children:"Save"}),Object(C.jsxs)(j.a.Menu,{position:"right",children:[Object(C.jsx)(j.a.Item,{active:M===E,onClick:function(){return _(E)},children:"Versions"}),Object(C.jsx)(j.a.Item,{active:M===J,onClick:function(){return _(J)},children:"Lineups"}),Object(C.jsx)(j.a.Item,{active:M===T,onClick:function(){return _(T)},children:"Packages"}),Object(C.jsx)(j.a.Item,{active:M===D,onClick:function(){return _(D)},children:"Customers"})]})]}),Object(C.jsx)("input",{type:"file",accept:".json",hidden:!0,ref:n,onChange:function(n){var t=n.target.files;t&&(e=t[0])&&q.readAsText(e)}}),Object(C.jsx)("a",{href:"#",ref:t,hidden:!0}),M===E?Object(C.jsxs)(o.a,{as:d.a,children:[Object(C.jsx)(b.a,{as:"h1",children:"Versions"}),Object(C.jsx)(A,{versionList:v,onChange:p,lineupList:k,pkgList:F,customerList:H})]}):Object(C.jsx)(C.Fragment,{}),M===J?Object(C.jsxs)(o.a,{as:d.a,children:[Object(C.jsx)(b.a,{as:"h1",children:"Lineups"}),Object(C.jsx)(L,{title:"Lineup",enumList:k,onChange:S,usedIndexList:G})]}):Object(C.jsx)(C.Fragment,{}),M===T?Object(C.jsxs)(o.a,{as:d.a,children:[Object(C.jsx)(b.a,{as:"h1",children:"Packages"}),Object(C.jsx)(I,{pkgList:F,lineupList:k,onChange:z,usedPkgIndexList:K})]}):Object(C.jsx)(C.Fragment,{}),M===D?Object(C.jsxs)(o.a,{as:d.a,children:[Object(C.jsx)(b.a,{as:"h1",children:"Customers"}),Object(C.jsx)(L,{title:"Customer",enumList:H,onChange:P,usedIndexList:Q})]}):Object(C.jsx)(C.Fragment,{}),Object(C.jsx)(o.a,{textAlign:"center",children:Object(C.jsx)("a",{href:"https://github.com/gsongsong/rhm",target:"_blank",rel:"noreferrer",children:Object(C.jsx)(x.a,{name:"github",size:"large"})})})]})},V=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,177)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,r=n.getLCP,a=n.getTTFB;t(e),c(e),i(e),r(e),a(e)}))};a.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(U,{})}),document.getElementById("root")),V()}},[[154,1,2]]]);
//# sourceMappingURL=main.6a8bd4b2.chunk.js.map